<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>字符串扩展</title>
</head>
<body>
  <script type="text/javascript">
    // 字符串可以被 for..of 循环遍历，
    //而且遍历器可以识别大于0xFFFF 的码点，

    var text = String.fromCodePoint(0x20BB7);

    for (let i = 0; i < text.length; i++) {
      console.log(text[i]);
    }
    // " "
    // " "

    for (let i of text) {
      console.log(i);
    }
    // "𠮷"

    //提案：识别Uncode 编号大于0xFFFF 的字符，console.log('𠮷'.at(0))

    // ---------------------------------------------------------------------------------------------------------------------------------------
    // 查询字符串
    // includes()：返回布尔值，表示是否找到了参数字符串。
    // startsWith()：返回布尔值，表示参数字符串是否在源字符串的头部。
    // endsWith()：返回布尔值，表示参数字符串是否在源字符串的尾部。

    // ------------------------------------------------------------------------------------------------------------------------------------------
    // repeat()方法返回一个新的字符串，表示将原字符串重复n次
      console.log('x'.repeat(3))
        // 参数如果是小数，会被向下取整
        'na'.repeat(2.9) // "nana"
        // 如果参数是负数或 Infinity，会报错
        // 0 - -1 之间的小数参数，向下取整，则等同于 0
        // 参数NaN等同于 0
        // 参数是字符串会先转换成数字
          'na'.repeat('na') // ""
          'na'.repeat('3') // "nanana"

      // ---额外--ES7--------------------------------------------------------------
      // 警告： ES7 ：字符串补全长度功能
      // 如果某个字符串不够指定长度，可以在头部或尾部补全
      // padStart用于补全头部，
      // padEnd 用于尾部补全
        //console.log('x'.padStart(10,'lh'))
        // console.log('x'.padEnd(10,'lh'))

      // 常见用途
        // 数值补全指定位数
          '1'.padStart(10, '0') // "0000000001"
        // 提示字符串格式
          '09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12"

      // ------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      // 模板字符串
      // 使用反引号(``标识)
      $('#list').html(`
        <ul>
          <li>first</li>
          <li>second</li>
        </ul>
      `);
      // 如果在模板中需要使用反引号，则在前面用反斜杠转义
        var greeting = `\`Yo\` World!`;

      // 如果使用模板字符表示多行字符串，所有的空格和缩进都会保留在输出之中

      // 模板字符串中嵌入变量，需要将变量名写在 ${}之中

      // 大括号内部可以放入任意的 javascript表达式，可以进行计算，以及引用对象属性
      var x = 1;
      var y = 2;

      `${x} + ${y} = ${x + y}`
      // "1 + 2 = 3"

      `${x} + ${y * 2} = ${x + y * 2}`
      // "1 + 4 = 5"

      var obj = {x: 1, y: 2};
      `${obj.x + obj.y}`
      // 3

      // 模板字符串之间还能调用函数
      function fn() {
        return "Hello World";
      }

      `foo ${fn()} bar`
      // foo Hello World bar

      // 
  </script>
</body>
</html>
