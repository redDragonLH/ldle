<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="react-就是闲的" />
    <meta name="renderer" content="webkit">
    <meta name="author" content="wos">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#e1652f">
    <title>react闲的</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link rel="stylesheet" href="/css/comm.css">
    <link rel="stylesheet" href="/css/index.css">
    <script src="//cdn.bootcss.com/jquery/1.12.1/jquery.min.js"></script>
    <script src="../js/react.min.js"></script>
    <script src="../js/react-dom.min.js"></script>
    <script src="../js/browser.min.js"></script>
    <style>
      #box{
        width: 500px;
        margin-left: auto;
        margin-right: auto;
      }
    </style>
  </head>
  <body>
  <div id="box"></div>

</body>
<!-- <script type = "text/babel">
  var UserGist = React.createClass({
    getInitialState: function(){
      return {
        username: '',
        lastGistUrl: ''
      };
    },
    componentDidMount: function(){
      $.get(this.props.source,function(result){
        var lastGist = result[0];
        if(this.isMounted()){
          this.setState({
            username: lastGist.owner.login,
            lastGistUrl: lastGist.html_url
          });
        }
      }.bind(this));
    },
    render:function(){
      return (
        <div>
        {this.state.username}s last gist is
          <a href = {this.state.lastGisUrl} >here</a>
        </div>
      );
    }
  });
  ReactDOM.render(
    <UserGist source="https://api.github.com/users/octocat/gists" />,
    document.getElementById("box")
  )
</script> -->

<!-- <script type="text/babel">
  var PepoList = React.createClass({
    getInitialState: function(){
      return {loading: true,error:null,data:null};
    },
    componentDidMount(){
      this.props.promise.then(
        value => this.setState({loading: false,data:value}),
        error => this.setState({loading: false,error: error})
      );
    },
    render: function(){
      if(this.state.loading){
        return <span>Error: {this.state.erroe.message}</span>;
      }else{
        var repos = this.state.data.items;
        var repoList = repos.map(function (repo){
          return (
            <li>
              <a href={repo.html_url}>{repo.name}</a>({repo.stargazers_count} stars)<br/>{repo.description}
            </li>
          );
        });
        return (
          <main>
            <h1>Most Popular javascript projects in github</h1>
            <ol>{repoList}</ol>
          </main>
        );
      }
    }
  });
</script> -->


<!-- <script type="text/babel">
var Hello = React.createClass({
  getInitialState: function(){
    return {
      opacity: 1.0
    };
  },
  componentDidMount:function(){
    this.timer = setInterval(function(){
      var opacity = this.state.opacity;
      opacity -=.05;
      if(opacity < 0.1){
        opacity = 1.0;
      }
      this.setState({
        opacity:opacity
      });
    }.bind(this),100);
  },
  render: function(){
    return (
      <div style = {{opacity: this.state.opacity}}>
      Hello {this.props.name}
      </div>
    );
  }
});
ReactDOM.render(
  <Hello name = "word" />,
  document.getElementById("box")
)
</script> -->

<!-- 表单，获取内容-->
<!-- <script type="text/babel">
  var Input = React.createClass({
    getInitialState:function(){
      return {value: 'Hello'};
    },
    handleChange: function(event){
      this.setState({value:event.target.value});
    },
    render: function(){
      var value = this.state.value;
      return (
        <div>
          <input type="text" value={value} onChange={this.handleChange} />
          <p>{value}</p>
        </div>
      );
    }
  });
  ReactDOM.render(
    <Input />,
    document.getElementById('box')
  )
</script> -->

<!-- this.state -->
<!-- <script type="text/babel">
  var LikeButton = React.createClass({
    getInitialState: function(){
      return {liked: false};
    },
    handleClick: function(event){
      this.setState({liked: !this.state.liked});
      console.log(this.state);
    },
    render: function(){
      var text = this.state.liked ? "like" : "haven\'t liked";
      return (
        <p onClick = {this.handleClick}>
        You {text} this.Click to toggle.
        </p>
      );
    }
  });
  ReactDOM.render(
    <LikeButton />,
    document.getElementById('box')
  )
</script> -->

<!-- <script type="text/babel">
  var MyClick=React.createClass({
    HeClick:function(e){
      var text = this.state;
      console.log(this.state)
       e.stopPropagation();
    },
    render:function(){
      return (
        <div >
          <p name={"liuhe"} onClick= {this.HeClick}>liuhe</p>
        </div>
      )
    }
  });
  ReactDOM.render(
    <MyClick />,
    document.getElementById("box")
  )
</script> -->

<!-- <script type="text/babel">
  var names = ['Alice','Emay','kate'];
  ReactDOM.render(
    <div>
    {
      names.map(function (name){
        return <h2>Hello , {name}!</h2>
      })
    }
    </div>,
    document.getElementById('box')
  )
</script> -->


<!-- <script type="text/babel">
  var arr =[
    <h1>liuhe</h1>,
    <h2>222222</h2>,
  ];
  ReactDOM.render(
    <div>{arr}</div>,
    document.getElementById('box')
  )
</script> -->


<!-- <script type="text/babel">
  var NotesList = React.createClass({
    render: function(){
      return (
        <ol>
        {
          React.Children.map(this.props.children,function(child){
            return <li>{child}</li>;
          })
        }
        </ol>
      );
    }
  });
  ReactDOM.render(
    <NotesList>
      <span>hello</span>
      <span>world</span>
    </NotesList>,
    document.getElementById('box')
  )
</script> -->


<!-- <script type="text/babel">
  var MyTitle = React.createClass({
    propTypes: {
      title: React.PropTypes.string.isRequired,
    },
    render:function(){
      return <h1>{this.props.title}</h1>;
    }
  })
  var data = "dvcdv";
  ReactDOM.render(
    <MyTitle title = {data} />,
    document.getElementById('box')
  )
</script> -->

<!-- <script type="text/babel">
  var MyComponent = React.createClass({
    handleClick: function(){
      this.refs.myTextInput.focus();
    },
    render: function(){
      return (
        <div>
          <input type="text" ref="myTextInput" />
          <input type= "button" value="Focus the text input" onClick={this.handleClick} />
        </div>
      );
    }
  });
  ReactDOM.render(
    <MyComponent />,
    document.getElementById('box')
  )
</script> -->


<!-- <script type="text/babel">
  var Input = React.createClass({
    getInitialState: function(){
      return {value: 'hello'};
    },
    handleChange: function(e){
      this.setState({value: event.target.value});
    },
    render: function(){
      var value = this.state.value;
      return (
        <div>
          <input type="text" value={value} onChange ={this.handleChange} />
          <p>{value}</p>
        </div>
      );
    }
  });
  ReactDOM.render(
    <Input />,
    document.getElementById('box')
  )
</script> -->


<script type="text/babel">
var List = React.createClass({
  //1.创建阶段
  getDefaultProps:function() {
      console.log(this.state);
      return {};
  },
  //2.实例化阶段
  getInitialState:function() {
      console.log(this.state);
      return {};
  },
  //render之前调用，业务逻辑都应该放在这里，如对state的操作等
  componentWillMount:function() {
      console.log(this.state);
  },
  //渲染并返回一个虚拟DOM
  render:function() {
      console.log(this.state);
      return(
          <div> hello <strong> {this.props.name} </strong></div>
          );
  },
  //该方法发生在render方法之后。在该方法中，ReactJS会使用render生成返回的虚拟DOM对象来创建真实的DOM结构
  componentDidMount:function() {
      console.log(this.state);
  },
});

ReactDOM.render(<List name="ReactJS">children</List>, document.getElementById('box'));
</script>
</html>
<!-- http://www.ruanyifeng.com/blog/2015/03/react.html -->
